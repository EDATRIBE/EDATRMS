# Requirements

## 系统目标

本项目旨在建立一个用于管理视频、字幕以及轻小说资源的系统。

所需功能主要包含三个方面：

1. **整理资源**

    待整理的资源包括英配动画、字幕（包括已经加工和未加工以及正在加工）、压制完成的英配动画、英配轻小说。对于每类资源需能分别记录对应的必要信息，如英配动画的季数、中文名、英文名、罗马音名，以及动画类型，原著作者等等。

2. **资源检索与分享**

    提供多种资源检索方式，如关键字、标签、过滤器等等。同时为已经被收录的资源提供良好的展示页面。

3. **提供编程接口**

    提供必要的编程接口供其他系统使用。如查询收录资源的统计信息，具体信息等等。

## 具体功能

### 资源信息管理

资源信息的管理应包括的功能有：

- 自动导入如[anidb.net](https://anidb.net/)、[bangumi.tv](https://bangumi.tv/)、[reelgood.com](https://reelgood.com/)等数据库的资源信息
- 手动录入资源信息
- 对已经录入的资源信息进行编辑与删除

不同资源的信息结构如下：

- ip：标识名、别名、简介、地区、原著作者、标签
- animation：标识名、别名、简介、横向图、纵向图、出品公司、上映时间、类型、集数、分享地址
- video：文件名、格式、大小、分辨率
- caption：完整性、状态、释出时间、文件名、格式、大小
- novel：标识名、别名、简介、横向图、纵向图、卷数、完整性、文件名、格式、大小、分享地址

其层级关系为：

```
ip
├── animation
│   ├── caption
│   └── video
└── novel
```

每条信息都将继承父级信息的属性。与此同时，当删除某条信息时，应删除其下关联的所有信息。

### 用户管理

用户的管理包含账户的生成、角色与权限的分配。

账户的信息包括：用户名、密码、密钥、邮箱、QQ、简介、头像、角色

可分配的权限包括：

- 普通账户：对个人信息的管理、对资源的访问
- 工作人员账户：所有普通用户的权限，以及对资源信息的管理

用户的权限与角色的分配需要直接通过系统命令实现。

### 信息检索

信息检索主要包括关键词、筛选器、排序等方式。

其中多个关键词之间的关系为“或”关系，即包含任意关键词的信息都应该被列出。而筛选器之间应为“与”关系，即满足所有筛选器的条件时，信息才应被列出。

不同信息对应的筛选器如下：

- ip：地区，标签
- animation：地区、标签、类型、上映时间、其下video的类型与分辨率、其下caption的类型与状态
- novel：地区、标签、类型、完整性

排序方式包括：信息修改时间、名称



### 日志记录

### 

















